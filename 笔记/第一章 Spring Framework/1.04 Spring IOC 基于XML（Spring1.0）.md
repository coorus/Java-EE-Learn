# Spring IOC 基于XML（Spring1.0）
![gmzr](../Source/attachments/gmzr_1.png)
## 生产一批汽车（IOC XML实现）

1. **基于普通实现修改**

2. **在 `pom.xml` 文件中导入 Spring 依赖包**（用于支持 IOC）

```xml
<dependencies>  
   <dependency>  
	   <groupId>org.springframework</groupId>  
	   <artifactId>spring-context</artifactId>  
	   <version>6.1.4</version>  
   </dependency>  
</dependencies>
```

3. **在 `resources` 文件夹下创建 XML 文件**

4. **编写 `spring.xml`**（配置 Spring 需要创建的对象以及对象之间的依赖关系）

```xml
<bean class="io.github.coorus.springbasics.chapter_01.eg_1_4.car.Car">  
<property name="iEngine" ref="engine"/>  
</bean>  

<bean class="io.github.coorus.springbasics.chapter_01.eg_1_4.engines.Engine2" name="engine"/>
```

5. **修改 `Car.java`**  
   （不要在代码中直接 `new Engine1`，而是通过 `setiEngine` 方法进行依赖注入）

```java
public class Car {  
   private IEngine iEngine;

   // 设置引擎的 setter 方法
   public void setiEngine(IEngine iEngine) {  
	   this.iEngine = iEngine;  
   }

   // 获取引擎并打印信息
   public void getEngine() {  
	   System.out.println(iEngine);  
   }  
}  

public class Main {  
   public static void main(String[] args) {  
	   // 创建 IOC 容器
	   ClassPathXmlApplicationContext ioc = new ClassPathXmlApplicationContext("spring.xml");

	   // 获取 Car 对象
	   Car car = ioc.getBean(Car.class);

	   // 调用 getEngine 方法
	   car.getEngine();  
   }  
}  
```
